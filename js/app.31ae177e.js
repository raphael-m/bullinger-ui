(function(e){function t(t){for(var n,s,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0026":function(e,t,a){},"0a28":function(e,t,a){"use strict";var n=a("fd8e"),r=a.n(n);r.a},"0de7":function(e,t,a){},"0e18":function(e,t,a){"use strict";var n=a("b34b"),r=a.n(n);r.a},1364:function(e,t,a){},"18eb":function(e,t,a){"use strict";var n=a("426e"),r=a.n(n);r.a},"38ea":function(e,t,a){"use strict";var n=a("f8bb"),r=a.n(n);r.a},"426e":function(e,t,a){},"50f6":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bu-app",attrs:{id:"app"}},[a("card")],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.card?e._e():a("div",{staticClass:"loading"},[e._v(" "+e._s(e.$t("card.loading"))+" ")]),e.card?a("div",{staticClass:"bu-card-wrapper"},[a("top-navigation",{attrs:{card:e.card}}),a("div",{staticClass:"bu-card-outer"},[a("div",{staticClass:"bu-card-original"},[a("h3",[e._v(e._s(e.$t("card.original_title")))]),e._v(" "+e._s(e.$t("card.original_intro"))+" "),a("div",{ref:"card_original",staticStyle:{"padding-top":"20px"}},[a("card-viewer",{style:{transform:"translate(0, "+e.card_original_top+"px)"},attrs:{card:e.card,focus:e.focus,highlight:e.highlight}})],1)]),a("div",{staticClass:"bu-card-digital"},[a("h3",[e._v(" "+e._s(e.$t("card.digital_title"))+" "),a("span",{staticClass:"badge-wrapper"},[a("span",{staticClass:"badge badge-secondary"},[e._v(e._s(e.card.reviews)+" "+e._s(e.$tc("card.reviews",e.card.reviews)))]),e.card.state==e.states.open?a("span",{staticClass:"badge badge-danger"},[e._v(e._s(e.$t("card.state.open")))]):e._e(),e.card.state==e.states.unclear?a("span",{staticClass:"badge badge-danger"},[e._v(e._s(e.$t("card.state.unclear")))]):e._e(),e.card.state==e.states.done?a("span",{staticClass:"badge badge-success"},[e._v(e._s(e.$t("card.state.done")))]):e._e(),e.card.state==e.states.invalid?a("span",{staticClass:"badge badge-danger"},[e._v(e._s(e.$t("card.state.invalid")))]):e._e()])]),a("p",[e._v(e._s(e.$t("card.digital_intro")))]),a("card-editor",{attrs:{card:e.card},on:{focus:function(t){e.focus=e.highlight=t},unfocus:function(t){e.focus=null},highlight:function(t){e.highlight=t},unhighlight:function(t){e.highlight=null},saved:e.saved}})],1)])],1):e._e()])},o=[],c=(a("e25e"),a("ac1f"),a("466d"),a("1276"),a("96cf"),a("1da1")),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"bu-nav-top"},[a("a",{attrs:{href:e.card.navigation.previous}},[a("font-awesome-icon",{attrs:{icon:"long-arrow-alt-left"}}),e._v(" "+e._s(e.$t("navigation.previous_card")))],1),a("ul",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[a("a",{attrs:{href:"/overview"}},[e._v(e._s(e.$t("navigation.overview")))])]),a("li",{staticClass:"breadcrumb-item"},[a("a",{attrs:{href:"/overview_year/"+(e.date.year||e.noDate)}},[e._v(e._s(e.date.year||e.noDate))])]),a("li",{staticClass:"breadcrumb-item"},[a("a",{attrs:{href:"/overview_month/"+(e.date.year||e.noDate)+"/"+(e.date.month||e.noDate)}},[e._v(e._s(e.month))])]),a("li",{staticClass:"breadcrumb-item"},[a("a",[e._v(e._s(e.$t("navigation.current"))+": "+e._s(e.current))])])]),a("a",{attrs:{href:e.card.navigation.next}},[e._v(e._s(e.$t("navigation.next_card"))+" "),a("font-awesome-icon",{attrs:{icon:"long-arrow-alt-right"}})],1)])},u=[],d=(a("99af"),{props:["card"],data:function(){return{noDate:"s.d."}},computed:{date:function(){return this.card.card.date},month:function(){return this.date.month?new Date(2020,this.date.month-1,1).toLocaleString("default",{month:"long"}):this.noDate},current:function(){return"".concat(this.formatTwoDigits(this.date.day),".").concat(this.formatTwoDigits(this.date.month),".").concat(this.date.year)}},methods:{formatTwoDigits:function(e){return e<10?"0"+e:e}}}),p=d,h=(a("38ea"),a("2877")),m=Object(h["a"])(p,l,u,!1,null,"6346edaa",null),f=m.exports,g=a("bc3a"),v=a.n(g),_={getCard:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return e.next=4,v.a.get("/api/assignments/"+t);case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,v.a.get("/card-example.json?"+t);case 9:a=e.sent;case 10:return"undefined"===typeof a.data.card.is_linked&&(a.data.card.is_linked=!1),"undefined"===typeof a.data.card.date_linked&&(a.data.card.date_linked={}),"undefined"===typeof a.data.card.copy_b&&(a.data.card.copy_b={}),e.abrupt("return",a.data);case 16:return e.prev=16,e.t0=e["catch"](0),e.abrupt("return",{error:e.t0});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));function t(t){return e.apply(this,arguments)}return t}(),saveCard:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("/api/assignments/"+t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,a){return e.apply(this,arguments)}return t}()},b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bu-card-editor"},[a("form",{on:{submit:e.save_reload}},[a("div",{staticClass:"row"},[a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:"date",expression:"'date'"}],staticClass:"col-sm-4"},[a("div",{staticStyle:{position:"relative"}},[a("h4",[e._v(e._s(e.$t("editor.date.title")))]),a("div",{staticStyle:{position:"absolute",right:"-5px",top:"-6px",padding:"6px 11px 9px 11px"},style:e.c.is_linked?"background: #FAFAFA":""},[a("help-label",{staticStyle:{display:"inline-block"},attrs:{for:"is_linked_card",text:"Verweiskarte",tip:"Aktivieren Sie diese Option, wenn die aktuelle Karteikarte auf eine andere Karte verweist. Mit Aktivierung dieser Option erscheint eine weitere Zeile, in die Sie bitte das Datum eintragen, auf welches die aktuelle Karte verweist."}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.c.is_linked,expression:"c.is_linked"}],staticClass:"form-control",staticStyle:{display:"inline-block",width:"auto","line-height":"0",height:"auto","margin-left":"10px"},attrs:{id:"is_linked_card",type:"checkbox"},domProps:{checked:Array.isArray(e.c.is_linked)?e._i(e.c.is_linked,null)>-1:e.c.is_linked},on:{change:function(t){var a=e.c.is_linked,n=t.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=e._i(a,i);n.checked?s<0&&e.$set(e.c,"is_linked",a.concat([i])):s>-1&&e.$set(e.c,"is_linked",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.c,"is_linked",r)}}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.c.is_linked,expression:"c.is_linked"}],staticClass:"row narrow",style:e.c.is_linked?"background: #FAFAFA;":""},[a("div",{staticClass:"col-sm-4 form-group"},[a("help-label",{attrs:{for:"year_linked",text:e.$t("editor.date.year_linked"),tip:e.$t("editor.date.year_linked_tip")}}),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.c.date_linked.year,expression:"c.date_linked.year",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"year_linked",min:"0",max:"2020",type:"number"},domProps:{value:e.c.date_linked.year},on:{change:e.checkNumber,mousewheel:function(e){e.preventDefault()},input:function(t){t.target.composing||e.$set(e.c.date_linked,"year",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})],1),a("div",{staticClass:"col-sm-4 form-group"},[a("help-label",{attrs:{for:"month_linked",text:e.$t("editor.date.month_linked"),tip:e.$t("editor.date.month_linked_tip")}}),a("month-input",{attrs:{id:"month_linked"},model:{value:e.c.date_linked.month,callback:function(t){e.$set(e.c.date_linked,"month",e._n(t))},expression:"c.date_linked.month"}})],1),a("div",{staticClass:"col-sm-4 form-group"},[a("help-label",{attrs:{for:"day_linked",text:e.$t("editor.date.day_linked"),tip:e.$t("editor.date.day_linked_tip")}}),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.c.date_linked.day,expression:"c.date_linked.day",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"day_linked",min:"1",max:"31",type:"number"},domProps:{value:e.c.date_linked.day},on:{change:e.checkNumber,mousewheel:function(e){e.preventDefault()},input:function(t){t.target.composing||e.$set(e.c.date_linked,"day",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})],1)]),a("div",{staticClass:"row narrow"},[a("div",{staticClass:"col-sm-4 form-group"},[a("help-label",{attrs:{for:"year",text:e.$t("editor.date.year"),tip:e.$t("editor.date.year_tip")}}),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.c.date.year,expression:"c.date.year",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"year",min:"0",max:"2020",type:"number"},domProps:{value:e.c.date.year},on:{change:e.checkNumber,mousewheel:function(e){e.preventDefault()},input:function(t){t.target.composing||e.$set(e.c.date,"year",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})],1),a("div",{staticClass:"col-sm-4 form-group"},[a("help-label",{attrs:{for:"month",text:e.$t("editor.date.month"),tip:e.$t("editor.date.month_tip")}}),a("month-input",{attrs:{id:"month"},model:{value:e.c.date.month,callback:function(t){e.$set(e.c.date,"month",e._n(t))},expression:"c.date.month"}})],1),a("div",{staticClass:"col-sm-4 form-group"},[a("help-label",{attrs:{for:"day",text:e.$t("editor.date.day"),tip:e.$t("editor.date.day_tip")}}),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.c.date.day,expression:"c.date.day",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"day",min:"1",max:"31",type:"number"},domProps:{value:e.c.date.day},on:{change:e.checkNumber,mousewheel:function(e){e.preventDefault()},input:function(t){t.target.composing||e.$set(e.c.date,"day",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})],1)]),a("div",{staticClass:"row narrow"},[a("div",{staticClass:"col-sm-4 form-group"},[a("help-label",{attrs:{for:"year_b",text:e.$t("editor.date.year_b"),tip:e.$t("editor.date.year_b_tip")}}),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.c.date.year_b,expression:"c.date.year_b",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"year_b",min:"0",max:"2020",type:"number"},domProps:{value:e.c.date.year_b},on:{change:e.checkNumber,mousewheel:function(e){e.preventDefault()},input:function(t){t.target.composing||e.$set(e.c.date,"year_b",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})],1),a("div",{staticClass:"col-sm-4 from-group"},[a("help-label",{attrs:{for:"month_b",text:e.$t("editor.date.month_b"),tip:e.$t("editor.date.month_b_tip")}}),a("month-input",{attrs:{id:"month_b"},model:{value:e.c.date.month_b,callback:function(t){e.$set(e.c.date,"month_b",e._n(t))},expression:"c.date.month_b"}})],1),a("div",{staticClass:"col-sm-4 grom-group"},[a("help-label",{attrs:{for:"day_b",text:e.$t("editor.date.day_b"),tip:e.$t("editor.date.day_b_tip")}}),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.c.date.day_b,expression:"c.date.day_b",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"day_b",min:"1",max:"31",type:"number"},domProps:{value:e.c.date.day_b},on:{change:e.checkNumber,mousewheel:function(e){e.preventDefault()},input:function(t){t.target.composing||e.$set(e.c.date,"day_b",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})],1)]),a("help-label",{attrs:{for:"date_remarks",text:e.$t("editor.date.remarks"),tip:e.$t("editor.date.remarks_tip")}}),a("collapse-input",{attrs:{id:"date_remarks"},model:{value:e.c.date.remarks,callback:function(t){e.$set(e.c.date,"remarks",t)},expression:"c.date.remarks"}})],1),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:"sender",expression:"'sender'"}],staticClass:"col-sm-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("h4",[e._v(e._s(e.$t("editor.sender.title")))]),a("person-editor",{attrs:{id:"sender"},model:{value:e.c.sender,callback:function(t){e.$set(e.c,"sender",t)},expression:"c.sender"}})],1)])]),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:"receiver",expression:"'receiver'"}],staticClass:"col-sm-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("h4",[e._v(e._s(e.$t("editor.receiver.title")))]),a("person-editor",{attrs:{id:"receiver"},model:{value:e.c.receiver,callback:function(t){e.$set(e.c,"receiver",t)},expression:"c.receiver"}})],1)])])]),a("div",{staticClass:"row"},[a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:"autograph",expression:"'autograph'"}],staticClass:"col-sm-4"},[a("h4",[e._v(e._s(e.$t("editor.autograph.title")))]),a("div",{staticClass:"form-group"},[a("help-label",{attrs:{for:"autograph_location",text:e.$t("editor.autograph.location"),tip:e.$t("editor.autograph.location_tip")}}),a("typeahead",{attrs:{id:"autograph_location",proposals:e.locationProposals.autograph,maxMatches:50,minMatchingChars:0,hideEqual:!0},model:{value:e.c.autograph.location,callback:function(t){e.$set(e.c.autograph,"location",t)},expression:"c.autograph.location"}})],1),a("div",{staticClass:"form-group"},[a("help-label",{attrs:{for:"autograph_signature",text:e.$t("editor.autograph.signature"),tip:e.$t("editor.autograph.signature_tip")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.c.autograph.signature,expression:"c.autograph.signature"}],staticClass:"form-control",attrs:{id:"autograph_signature",type:"text"},domProps:{value:e.c.autograph.signature},on:{input:function(t){t.target.composing||e.$set(e.c.autograph,"signature",t.target.value)}}})],1),a("div",{staticClass:"form-group"},[a("help-label",{attrs:{for:"autograph_remarks",text:e.$t("editor.autograph.remarks"),tip:e.$t("editor.autograph.remarks_tip")}}),a("collapse-input",{attrs:{id:"autograph_remarks"},model:{value:e.c.autograph.remarks,callback:function(t){e.$set(e.c.autograph,"remarks",t)},expression:"c.autograph.remarks"}})],1)]),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:"copy",expression:"'copy'"}],staticClass:"col-sm-4"},[a("h4",[e._v(e._s(e.$t("editor.copy.title")))]),a("div",{staticClass:"form-group"},[a("help-label",{attrs:{for:"copy_location",text:e.$t("editor.copy.location"),tip:e.$t("editor.copy.location_tip")}}),a("typeahead",{attrs:{id:"copy_location",proposals:e.locationProposals.copy,maxMatches:50,minMatchingChars:0,hideEqual:!0},on:{input:e.locationChanged},model:{value:e.c.copy.location,callback:function(t){e.$set(e.c.copy,"location",t)},expression:"c.copy.location"}})],1),a("div",{staticClass:"form-group"},[a("help-label",{attrs:{for:"copy_signature",text:e.$t("editor.copy.signature"),tip:e.$t("editor.copy.signature_tip")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.c.copy.signature,expression:"c.copy.signature"}],staticClass:"form-control",attrs:{id:"copy_signature",type:"text"},domProps:{value:e.c.copy.signature},on:{input:function(t){t.target.composing||e.$set(e.c.copy,"signature",t.target.value)}}})],1),a("div",{staticClass:"form-group"},[a("help-label",{attrs:{for:"copy_remarks",text:e.$t("editor.copy.remarks"),tip:e.$t("editor.copy.remarks_tip")}}),a("collapse-input",{attrs:{id:"copy_remarks"},model:{value:e.c.copy.remarks,callback:function(t){e.$set(e.c.copy,"remarks",t)},expression:"c.copy.remarks"}})],1)]),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:"copy",expression:"'copy'"}],staticClass:"col-sm-4"},[a("h4",[e._v(e._s(e.$t("editor.copy_b.title")))]),a("div",{staticClass:"form-group"},[a("help-label",{attrs:{for:"copy_b_location",text:e.$t("editor.copy_b.location"),tip:e.$t("editor.copy_b.location_tip")}}),a("typeahead",{attrs:{id:"copy_b_location",proposals:e.locationProposals.copy,maxMatches:50,minMatchingChars:0,hideEqual:!0},model:{value:e.c.copy_b.location,callback:function(t){e.$set(e.c.copy_b,"location",t)},expression:"c.copy_b.location"}})],1),a("div",{staticClass:"form-group"},[a("help-label",{attrs:{for:"copy_b_signature",text:e.$t("editor.copy_b.signature"),tip:e.$t("editor.copy_b.signature_tip")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.c.copy_b.signature,expression:"c.copy_b.signature"}],staticClass:"form-control",attrs:{id:"copy_b_signature",type:"text"},domProps:{value:e.c.copy_b.signature},on:{input:function(t){t.target.composing||e.$set(e.c.copy_b,"signature",t.target.value)}}})],1),a("div",{staticClass:"form-group"},[a("help-label",{attrs:{for:"copy_b_remarks",text:e.$t("editor.copy_b.remarks"),tip:e.$t("editor.copy_b.remarks_tip")}}),a("collapse-input",{attrs:{id:"copy_b_remarks"},model:{value:e.c.copy_b.remarks,callback:function(t){e.$set(e.c.copy_b,"remarks",t)},expression:"c.copy_b.remarks"}})],1)])]),a("div",{staticClass:"row"},[a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:"language",expression:"'language'"}],staticClass:"col-sm-4 form-group"},[a("help-label",{attrs:{for:"language",text:e.$t("editor.contents.language"),tip:e.$t("editor.contents.language_tip")}}),a("typeahead",{attrs:{id:"language",proposals:["Latein","Deutsch","Griechisch","Französisch"],minMatchingChars:0,hideEqual:!0},model:{value:e.c.language,callback:function(t){e.$set(e.c,"language",t)},expression:"c.language"}})],1),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:"printed",expression:"'printed'"}],staticClass:"col-sm-4 form-group"},[a("help-label",{attrs:{for:"printed",text:e.$t("editor.contents.printed"),tip:e.$t("editor.contents.printed_tip")}}),a("typeahead-collapse-input",{attrs:{id:"printed",proposals:e.printedProposals,minMatchingChars:0,hideEqual:!0},model:{value:e.c.printed,callback:function(t){e.$set(e.c,"printed",t)},expression:"c.printed"}})],1),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:"literature",expression:"'literature'"}],staticClass:"col-sm-4 form-group"},[a("help-label",{attrs:{for:"literature",text:e.$t("editor.contents.literature"),tip:e.$t("editor.contents.literature_tip")}}),a("typeahead-collapse-input",{attrs:{id:"literature",proposals:e.literatureProposals,minMatchingChars:0,hideEqual:!0},model:{value:e.c.literature,callback:function(t){e.$set(e.c,"literature",t)},expression:"c.literature"}})],1)]),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:"first_sentence",expression:"'first_sentence'"}],staticClass:"form-group"},[a("help-label",{attrs:{for:"first_sentence",text:e.$t("editor.contents.first_sentence"),tip:e.$t("editor.contents.first_sentence_tip")}}),a("textarea-autosize",{staticClass:"form-control",attrs:{id:"first_sentence",spellcheck:"false"},model:{value:e.c.first_sentence,callback:function(t){e.$set(e.c,"first_sentence",t)},expression:"c.first_sentence"}})],1),a("div",{staticClass:"form-group"},[a("help-label",{attrs:{for:"remarks",text:e.$t("editor.contents.remarks"),tip:e.$t("editor.contents.remarks_tip")}}),a("textarea-autosize",{staticClass:"form-control",attrs:{id:"remarks",spellcheck:"false"},model:{value:e.c.remarks,callback:function(t){e.$set(e.c,"remarks",t)},expression:"c.remarks"}})],1),a("div",{staticClass:"card-actions"},[a("div",{staticClass:"form-group form-inline"},[a("help-label",{staticStyle:{display:"flex","margin-right":"10px"},attrs:{for:"status",text:e.$t("editor.state.label"),tip:e.$t("editor.state_tip"),"tip-classes":"state-tip"}}),e._l(["open","unclear","invalid","done"],(function(t){return a("div",{key:t,staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.card.state,expression:"card.state"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"status_"+t},domProps:{value:e.states[t],checked:e._q(e.card.state,e.states[t])},on:{change:function(a){return e.$set(e.card,"state",e.states[t])}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"status_"+t}},[e._v(" "+e._s(e.$t("editor.state."+t))+" ")])])}))],2),a("div",[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-secondary btn-save",attrs:{type:"button"},on:{click:e.save_reload}},[e._v(e._s(e.$t("editor.save")))]),a("button",{staticClass:"btn btn-primary btn-save-go",attrs:{type:"button"},on:{click:e.save_go}},[e._v(e._s(e.$t("editor.save_next")))])])])])]),e.debug?a("div",[a("h4",[e._v("Debug mode")]),a("pre",[e._v(e._s(e.c))])]):e._e()])},y=[],x=(a("a630"),a("c975"),a("3ca3"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected=t.target.multiple?a:a[0]}}},[e._l(e.months,(function(t,n){return a("option",{key:n,domProps:{value:n+1}},[e._v(e._s(t))])})),a("option",{attrs:{disabled:""}},[e._v("──────────")]),a("option",{attrs:{value:"0"}},[e._v("s.d. (ohne Datum)")])],2)}),k=[],w=(a("d81d"),a("d3b7"),a("ddb0"),a("2909")),$={name:"MonthInput",props:["value"],data:function(){return{months:[]}},computed:{selected:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},beforeMount:function(){this.months=Object(w["a"])(Array(12).keys()).map((function(e,t){var a=new Date(2020,t,1),n=a.toLocaleString("default",{month:"long"});return n}))},methods:{}},C=$,S=Object(h["a"])(C,x,k,!1,null,null,null),z=S.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bu-person-editor"},[a("div",{staticClass:"row narrow"},[a("div",{staticClass:"col-sm-6 form-group"},[a("help-label",{attrs:{for:e.id+"_lastname",text:e.$t("editor."+e.id+".lastname"),tip:e.$t("editor."+e.id+".lastname_tip")}}),a("vue-bootstrap-typeahead",{ref:"typeahead",attrs:{data:e.proposals,serializer:function(e){return e.lastname+" "+e.firstname+", "+e.location},textVariant:"body",type:"text"},on:{hit:e.proposalSelected},model:{value:e.value.lastname,callback:function(t){e.$set(e.value,"lastname",t)},expression:"value.lastname"}})],1),a("div",{staticClass:"col-sm-6 form-group"},[a("help-label",{attrs:{for:e.id+"_firstname",text:e.$t("editor."+e.id+".firstname"),tip:e.$t("editor."+e.id+".firstname_tip")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value.firstname,expression:"value.firstname"}],staticClass:"form-control",attrs:{id:e.id+"_firstname",type:"text"},domProps:{value:e.value.firstname},on:{input:function(t){t.target.composing||e.$set(e.value,"firstname",t.target.value)}}})],1),e.wikiData.photo_url?a("div",{staticClass:"bu-person-image"},[a("a",{attrs:{href:e.wikiData.wiki_url,target:"_blank",tabindex:"-1"}},[a("img",{attrs:{src:e.wikiData.photo_url}})])]):e._e()]),a("div",{staticClass:"row narrow"},[a("div",{staticClass:"col-sm-6 form-group"},[a("help-label",{attrs:{for:e.id+"_location",text:e.$t("editor."+e.id+".location"),tip:e.$t("editor."+e.id+".location_tip")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value.location,expression:"value.location"}],staticClass:"form-control",attrs:{id:e.id+"_location",type:"text"},domProps:{value:e.value.location},on:{input:function(t){t.target.composing||e.$set(e.value,"location",t.target.value)}}})],1),a("div",{staticClass:"col-sm-6 form-group"},[a("help-label",{attrs:{for:e.id+"_not_verified",text:e.$t("editor."+e.id+".not_verified"),tip:e.$t("editor."+e.id+".not_verified_tip")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value.not_verified,expression:"value.not_verified"}],staticClass:"form-control",attrs:{id:e.id+"_not_verified",type:"checkbox"},domProps:{checked:Array.isArray(e.value.not_verified)?e._i(e.value.not_verified,null)>-1:e.value.not_verified},on:{change:function(t){var a=e.value.not_verified,n=t.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=e._i(a,i);n.checked?s<0&&e.$set(e.value,"not_verified",a.concat([i])):s>-1&&e.$set(e.value,"not_verified",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.value,"not_verified",r)}}})],1)]),a("div",{staticClass:"form-group"},[a("help-label",{attrs:{for:e.id+"_remarks",text:e.$t("editor."+e.id+".remarks"),tip:e.$t("editor."+e.id+".remarks_tip")}}),a("collapse-input",{attrs:{id:e.id+"_remarks"},model:{value:e.value.remarks,callback:function(t){e.$set(e.value,"remarks",t)},expression:"value.remarks"}})],1)])},V=[],A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{class:e.sizeClasses},[e.$slots.prepend||e.prepend?a("div",{ref:"prependDiv",staticClass:"input-group-prepend"},[e._t("prepend",[a("span",{staticClass:"input-group-text"},[e._v(e._s(e.prepend))])])],2):e._e(),a("input",{ref:"input",class:"form-control "+e.inputClass,attrs:{type:e.type,placeholder:e.placeholder,"aria-label":e.placeholder,autocomplete:"off"},domProps:{value:e.inputValue},on:{focus:function(t){e.isFocused=!0},blur:e.handleBlur,input:function(t){return e.handleInput(t.target.value)}}}),e.$slots.append||e.append?a("div",{staticClass:"input-group-append"},[e._t("append",[a("span",{staticClass:"input-group-text"},[e._v(e._s(e.append))])])],2):e._e()]),a("vue-bootstrap-typeahead-list",{directives:[{name:"show",rawName:"v-show",value:e.isFocused&&e.data.length>0,expression:"isFocused && data.length > 0"}],ref:"list",staticClass:"vbt-autcomplete-list",attrs:{query:e.inputValue,data:e.formattedData,"background-variant":e.backgroundVariant,"text-variant":e.textVariant,maxMatches:e.maxMatches,minMatchingChars:e.minMatchingChars,hideEqual:e.hideEqual},on:{hit:e.handleHit},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){var n=t.data,r=t.htmlText;return[e._t(a,null,null,{data:n,htmlText:r})]}}}))],null,!0)})],1)},E=[],D=(a("a9e3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-group",class:{shadow:e.matchedItems.length>0}},e._l(e.matchedItems,(function(t,n){return a("vue-bootstrap-typeahead-list-item",{key:n,attrs:{data:t.data,"html-text":e.highlight(t.text),"background-variant":e.backgroundVariant,"text-variant":e.textVariant},nativeOn:{click:function(a){return e.handleHit(t,a)}},scopedSlots:e._u([{key:"suggestion",fn:function(t){var a=t.data,n=t.htmlText;return e.$scopedSlots.suggestion?[e._t("suggestion",null,null,{data:a,htmlText:n})]:void 0}}],null,!0)})})),1)}),M=[],N=(a("4de4"),a("fb6a"),a("4e82"),a("4d63"),a("25f0"),a("5319"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{class:e.textClasses,attrs:{tabindex:"0",href:"#"},on:{mouseover:function(t){e.active=!0},mouseout:function(t){e.active=!1}}},[e._t("suggestion",[a("span",{domProps:{innerHTML:e._s(e.htmlText)}})],null,{data:e.data,htmlText:e.htmlText})],2)}),K=[],O={name:"VueBootstrapTypeaheadListItem",props:{data:{},htmlText:{type:String},backgroundVariant:{type:String},textVariant:{type:String}},data:function(){return{active:!1}},computed:{textClasses:function(){var e="";return e+=this.active?"active":"",e+=this.backgroundVariant?" bg-".concat(this.backgroundVariant):"",e+=this.textVariant?" text-".concat(this.textVariant):"","vbst-item list-group-item list-group-item-action ".concat(e)}}},P=O,F=Object(h["a"])(P,N,K,!1,null,null,null),T=F.exports;function L(e){return e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function j(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var I={name:"VueBootstrapTypeaheadList",components:{VueBootstrapTypeaheadListItem:T},props:{data:{type:Array,required:!0,validator:function(e){return e instanceof Array}},query:{type:String,default:""},backgroundVariant:{type:String},textVariant:{type:String},maxMatches:{type:Number,default:10},minMatchingChars:{type:Number,default:2},hideEqual:{type:Boolean}},computed:{highlight:function(){var e=this;return function(t){if(t=L(t),!e.query||0===e.query.length)return t;var a=new RegExp(e.escapedQuery,"gi");return t.replace(a,"<strong>$&</strong>")}},escapedQuery:function(){return j(L(this.query))},matchedItems:function(){var e=this;if(""===this.escapedQuery&&0===this.minMatchingChars)return this.data.slice(0,this.maxMatches);if(0===this.query.length||this.query.length<this.minMatchingChars)return[];var t=new RegExp(this.escapedQuery,"gi"),a=this.data.filter((function(e){return null!==e.text.match(t)})).sort((function(e,a){var n=e.text.indexOf(e.text.match(t)[0]),r=a.text.indexOf(a.text.match(t)[0]);return n<r?-1:n>r?1:0})).slice(0,this.maxMatches);return this.hideEqual&&(a=a.filter((function(t){return t.text!==e.escapedQuery}))),a}},methods:{handleHit:function(e,t){this.$emit("hit",e),t.preventDefault()}}},q=I,U=Object(h["a"])(q,D,M,!1,null,null,null),R=U.exports,Z=a("6dd8"),H={name:"VueBootstrapTypehead",components:{VueBootstrapTypeaheadList:R},props:{size:{type:String,default:null,validator:function(e){return["lg","sm"].indexOf(e)>-1}},value:{type:String},data:{type:Array,required:!0,validator:function(e){return e instanceof Array}},serializer:{type:Function,default:function(e){return e},validator:function(e){return e instanceof Function}},backgroundVariant:String,textVariant:String,inputClass:{type:String,default:""},maxMatches:{type:Number,default:10},minMatchingChars:{type:Number,default:2},placeholder:String,prepend:String,append:String,type:{type:String,default:"search"},hideEqual:{type:Boolean,default:!1}},computed:{sizeClasses:function(){return this.size?"input-group input-group-".concat(this.size):"input-group"},formattedData:function(){var e=this;return this.data instanceof Array?this.data.map((function(t,a){return{id:a,data:t,text:e.serializer(t)}})):[]}},methods:{resizeList:function(e){var t=e.getBoundingClientRect(),a=this.$refs.list.$el.style;if(a.width=t.width+"px",this.$refs.prependDiv){var n=this.$refs.prependDiv.getBoundingClientRect();a.marginLeft=n.width+"px"}},handleHit:function(e){"undefined"!==typeof this.value&&this.$emit("input",e.text),this.inputValue=e.text,this.$emit("hit",e.data),this.$refs.input.blur(),this.isFocused=!1},handleBlur:function(e){var t=e.relatedTarget;t&&t.classList.contains("vbst-item")||(this.isFocused=!1)},handleInput:function(e){this.inputValue=e,"undefined"!==typeof this.value&&this.$emit("input",e)}},data:function(){return{isFocused:!1,inputValue:""}},mounted:function(){var e=this;this.$_ro=new Z["a"]((function(){e.resizeList(e.$refs.input)})),this.$_ro.observe(this.$refs.input),this.$_ro.observe(this.$refs.list.$el)},beforeDestroy:function(){this.$_ro.disconnect()}},W=H,G=(a("18eb"),Object(h["a"])(W,A,E,!1,null,"17fd8a1c",null)),J=G.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("textarea-autosize",{ref:"input",staticClass:"form-control",class:{unfocused:!e.focused},attrs:{id:e.id,"min-height":38},nativeOn:{blur:function(t){e.focused=!1,e.$emit("blur",t)},focus:function(t){e.focused=!0,e.$emit("focus",t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)},Y=[],X={name:"CollapseInput",props:["value","id"],data:function(){return{focused:!1}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},mounted:function(){},watch:{},methods:{}},ee=X,te=(a("8c5f"),Object(h["a"])(ee,Q,Y,!1,null,"62a0961a",null)),ae=te.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("label",{attrs:{for:e.forValue,tabindex:"-1"}},[e._v(e._s(e.text))]),a("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{trigger:"manual",show:e.open,content:e.tip,classes:e.tipClasses?e.tipClasses:[]},expression:"{\n      trigger: 'manual',\n      show: open,\n      content: tip,\n      classes: tipClasses ? tipClasses : []\n    }"}],staticClass:"help-icon-outer",attrs:{tabindex:"-1"},on:{focus:function(t){e.open=!0},blur:function(t){e.open=!1}}},[a("font-awesome-icon",{staticClass:"help-icon",attrs:{icon:"question-circle"}})],1)])},re=[],ie={name:"MonthInput",props:["for","text","tip","tip-classes"],data:function(){return{open:!1}},computed:{forValue:function(){return this["for"]}}},se=ie,oe=(a("de2d"),Object(h["a"])(se,ne,re,!1,null,"b8b48a66",null)),ce=oe.exports,le={name:"PersonEditor",props:["value","id"],data:function(){return{proposals:[],wikiData:{}}},computed:{personIdentifier:function(){return"".concat(encodeURIComponent(this.value.lastname),"/").concat(encodeURIComponent(this.value.firstname))}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$refs.typeahead.inputValue=this.value.lastname,e.next=3,v.a.get("/api/persons");case 3:this.proposals=e.sent.data,this.refreshWikiData();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{personIdentifier:function(){this.refreshWikiData()}},methods:{refreshWikiData:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.value.lastname&&this.value.firstname&&this.value.location)){e.next=13;break}return e.prev=1,e.next=4,v.a.get("/api/wiki_data/".concat(this.personIdentifier));case 4:t=e.sent.data,this.wikiData=t,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),this.wikiData={};case 11:e.next=14;break;case 13:this.wikiData={};case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}(),proposalSelected:function(e){this.$refs.typeahead.inputValue=e.lastname,this.value.firstname=e.firstname,this.value.lastname=e.lastname,this.value.location=e.location}},components:{VueBootstrapTypeahead:J,CollapseInput:ae,HelpLabel:ce}},ue=le,de=(a("0e18"),Object(h["a"])(ue,B,V,!1,null,null,null)),pe=de.exports,he={open:"offen",unclear:"unklar",invalid:"ungültig",done:"abgeschlossen"},me={autograph:["Zürich","Zürich StA","Zürich ZB","Genf BPU","Basel UB","Schaffhausen StA","St. Gallen KB","Marburg HStA","Zofingen StB","Strassburg AST","Strassburg BNU","London Lambeth Palace","London BM","Cambridge UL","Winterthur StB","Hamburg StUB","Bern BurgerB","Chur StA","Weimar StA"],copy:["Zürich","Zürich StA","Zürich ZB","Paris BSG","Paris BN","Schaffhausen StA","Strassburg AST","Strassburg BNU","London Lambeth Palace","London BM","Basel UB","Marburg HStA","München BStB","Hamburg StUB","Winterthur StB","St. Gallen KB","Bern BB","Bern StA","Utrecht BRU","Zofingen StB","Cambridge UL","Dresden StA","Genf BPU","Kopenhagen KB","Dublin TC","Prag StUA","Oxford BL"]},fe=["Benrath","Bouvier","Ferd. Meyer, Die evangelische Gemeinde in Locarno","A. Mühling, HB's europ. Kirchenpolitik ","E. Bähler, Dekan J. Haller, in: NBT","JB für Schweiz. Gesch., 31, 1906","M. Steinmann, Oporinus","W. Köhler, Bibl. Brentiana","Wotschke","gemäss alph. Schiess","Kessler, Sabbata","Niehaus"],ge=["Beza Korr","Blarer BW","Bouvier","C. O.","Corr. de Bèze","Ep. Tig.","Graubünden BW","Graubünden Korr","Leo Weisz","Vadian BW ","Wotschke"],ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vue-bootstrap-typeahead",{ref:"typeahead",attrs:{data:e.proposals,serializer:e.serializer,textVariant:"body",minMatchingChars:e.minMatchingChars,maxMatches:e.maxMatches,type:"text",hideEqual:e.hideEqual},on:{hit:e.proposalSelected},model:{value:e.internalValue,callback:function(t){e.internalValue=t},expression:"internalValue"}})},_e=[],be={name:"Typeahead",props:{value:{type:String,default:""},proposals:{type:Array,default:function(){return[]}},serializer:{type:Function,default:function(e){return e}},maxMatches:{type:Number,default:10},minMatchingChars:{type:Number,default:2},hideEqual:{type:Boolean,default:!1}},data:function(){return{}},computed:{internalValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.typeahead.inputValue=this.internalValue;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{internalValue:function(e){this.$refs.typeahead.inputValue=e}},methods:{proposalSelected:function(){}},components:{VueBootstrapTypeahead:J}},ye=be,xe=(a("f9de"),Object(h["a"])(ye,ve,_e,!1,null,null,null)),ke=xe.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vue-bootstrap-typeahead-collapse-input",{ref:"typeahead",attrs:{data:e.proposals,serializer:e.serializer,textVariant:"body",minMatchingChars:e.minMatchingChars,maxMatches:e.maxMatches,type:"text",hideEqual:e.hideEqual},on:{hit:e.proposalSelected},model:{value:e.internalValue,callback:function(t){e.internalValue=t},expression:"internalValue"}})},$e=[],Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{class:e.sizeClasses},[e.$slots.prepend||e.prepend?a("div",{ref:"prependDiv",staticClass:"input-group-prepend"},[e._t("prepend",[a("span",{staticClass:"input-group-text"},[e._v(e._s(e.prepend))])])],2):e._e(),a("collapse-input",{ref:"collapseInput",class:" "+e.inputClass,attrs:{id:e.id,type:e.type,placeholder:e.placeholder,"aria-label":e.placeholder,value:e.inputValue,autocomplete:"off"},on:{focus:function(t){e.isFocused=!0},blur:e.handleBlur,input:e.handleInput}}),e.$slots.append||e.append?a("div",{staticClass:"input-group-append"},[e._t("append",[a("span",{staticClass:"input-group-text"},[e._v(e._s(e.append))])])],2):e._e()],1),a("vue-bootstrap-typeahead-list",{directives:[{name:"show",rawName:"v-show",value:e.isFocused&&e.data.length>0,expression:"isFocused && data.length > 0"}],ref:"list",staticClass:"vbt-autcomplete-list",attrs:{query:e.inputValue,data:e.formattedData,"background-variant":e.backgroundVariant,"text-variant":e.textVariant,maxMatches:e.maxMatches,minMatchingChars:e.minMatchingChars,hideEqual:e.hideEqual},on:{hit:e.handleHit},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){var n=t.data,r=t.htmlText;return[e._t(a,null,null,{data:n,htmlText:r})]}}}))],null,!0)})],1)},Se=[],ze={name:"VueBootstrapTypeheadCollapseInput",components:{VueBootstrapTypeaheadList:R,CollapseInput:ae},props:{size:{type:String,default:null,validator:function(e){return["lg","sm"].indexOf(e)>-1}},value:{type:String},data:{type:Array,required:!0,validator:function(e){return e instanceof Array}},serializer:{type:Function,default:function(e){return e},validator:function(e){return e instanceof Function}},backgroundVariant:String,textVariant:String,inputClass:{type:String,default:""},maxMatches:{type:Number,default:10},minMatchingChars:{type:Number,default:2},placeholder:String,prepend:String,append:String,type:{type:String,default:"search"},hideEqual:{type:Boolean,default:!1},id:{type:String}},computed:{sizeClasses:function(){return""},formattedData:function(){var e=this;return this.data instanceof Array?this.data.map((function(t,a){return{id:a,data:t,text:e.serializer(t)}})):[]}},methods:{resizeList:function(e){var t=e.getBoundingClientRect(),a=this.$refs.list.$el.style;if(a.width=t.width+"px",this.$refs.prependDiv){var n=this.$refs.prependDiv.getBoundingClientRect();a.marginLeft=n.width+"px"}},handleHit:function(e){"undefined"!==typeof this.value&&this.$emit("input",e.text),this.inputValue=e.text,this.$emit("hit",e.data),this.$refs.collapseInput.$refs.input.$el.blur(),this.isFocused=!1},handleBlur:function(e){var t=e.relatedTarget;t&&t.classList.contains("vbst-item")||(this.isFocused=!1)},handleInput:function(e){this.inputValue=e,"undefined"!==typeof this.value&&this.$emit("input",e)}},data:function(){return{isFocused:!1,inputValue:""}},mounted:function(){var e=this;this.$_ro=new Z["a"]((function(){e.resizeList(e.$refs.collapseInput.$refs.input.$el)})),this.$_ro.observe(this.$refs.collapseInput.$refs.input.$el),this.$_ro.observe(this.$refs.list.$el)},beforeDestroy:function(){this.$_ro.disconnect()}},Be=ze,Ve=(a("a775"),Object(h["a"])(Be,Ce,Se,!1,null,"e9b024ee",null)),Ae=Ve.exports,Ee={name:"TypeaheadGeneral",props:{value:{type:String,default:""},proposals:{type:Array,default:function(){return[]}},serializer:{type:Function,default:function(e){return e}},maxMatches:{type:Number,default:10},minMatchingChars:{type:Number,default:2},hideEqual:{type:Boolean,default:!1}},data:function(){return{}},computed:{internalValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.typeahead.inputValue=this.internalValue;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{internalValue:function(e){this.$refs.typeahead.inputValue=e}},methods:{proposalSelected:function(){}},components:{VueBootstrapTypeaheadCollapseInput:Ae}},De=Ee,Me=(a("eac8"),Object(h["a"])(De,we,$e,!1,null,null,null)),Ne=Me.exports,Ke={name:"CardEditor",props:["card"],data:function(){return{month:0,states:he,locationProposals:me,literatureProposals:fe,printedProposals:ge}},computed:{c:function(){return this.card.card},debug:function(){return-1!=window.location.href.indexOf("debug")}},components:{MonthInput:z,PersonEditor:pe,CollapseInput:ae,Typeahead:ke,TypeaheadCollapseInput:Ne,HelpLabel:ce},mounted:function(){},methods:{save_reload:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.save();case 2:this.$emit("saved");case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),save:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_.saveCard(this.card.id,this.card);case 2:t=e.sent,t.error?this.$toasted.error("<div>".concat(this.$t("editor.save_error"),"<br><i>").concat(t.error.message,"</i></div>")):this.$toasted.success(this.$t("editor.save_success",{id:this.card.id}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),save_go:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.save();case 2:window.location.href=this.card.navigation.next_unedited;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkNumber:function(e){var t=e.target;t.valueAsNumber<t.min&&(t.value=t.min,t.dispatchEvent(new Event("input"))),t.valueAsNumber>t.max&&(t.value=t.max,t.dispatchEvent(new Event("input")))},locationChanged:function(){"Zürich ZB"===this.c.copy.location&&-1===this.c.copy.signature.indexOf("Ms S")&&(this.c.copy.signature="Ms S ")}},directives:{viewer:{bind:function(e,t,a){e.addEventListener("mouseenter",(function(){a.context.$emit("highlight",t.value)})),Array.from(e.querySelectorAll("input,textarea,select")).forEach((function(e){e.addEventListener("focus",(function(){a.context.$emit("focus",t.value)})),e.addEventListener("blur",(function(){a.context.$emit("unfocus",t.value)}))})),e.addEventListener("mouseleave",(function(){a.context.$emit("unhighlight",t.value)}))}}}},Oe=Ke,Pe=(a("0a28"),Object(h["a"])(Oe,b,y,!1,null,null,null)),Fe=Pe.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"toolbar"},[a("div",{staticClass:"autofocus form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.autofocus,expression:"autofocus"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"autofocus"},domProps:{checked:Array.isArray(e.autofocus)?e._i(e.autofocus,null)>-1:e.autofocus},on:{change:function(t){var a=e.autofocus,n=t.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=e._i(a,i);n.checked?s<0&&(e.autofocus=a.concat([i])):s>-1&&(e.autofocus=a.slice(0,s).concat(a.slice(s+1)))}else e.autofocus=r}}}),a("label",{staticClass:"form-check-label",attrs:{title:e.$t("viewer.autofocus_title"),for:"autofocus"}},[e._v(e._s(e.$t("viewer.autofocus")))])]),a("label",{staticClass:"zoom-info"},[e._v(e._s(e.$t("viewer.zoom"))+": "+e._s((100*e.zoom).toFixed()+"%"))]),a("a",{attrs:{title:e.$t("viewer.zoom_in")},on:{click:function(t){return e.zoomIn()},mousedown:function(e){e.preventDefault()}}},[a("font-awesome-icon",{attrs:{icon:"plus"}})],1),a("a",{attrs:{title:e.$t("viewer.zoom_out")},on:{click:function(t){return e.zoomOut()},mousedown:function(e){e.preventDefault()}}},[a("font-awesome-icon",{attrs:{icon:"minus"}})],1),a("a",{attrs:{title:e.$t("viewer.zoom_full")},on:{click:e.reset,mousedown:function(e){e.preventDefault()}}},[a("font-awesome-icon",{attrs:{icon:"expand"}})],1)]),a("div",{staticClass:"card-viewport",on:{wheel:function(t){return t.preventDefault(),e.scroll(t)}}},[a("div",{class:{"animate-position":!e.isDraggingConfirmed},style:e.transformation},[a("img",{ref:"img",staticClass:"card-image",attrs:{draggable:"false",src:e.card.card_path},on:{mousedown:e.dragStart,touchstart:function(t){return t.preventDefault(),e.dragStart(t)},mousemove:e.drag,touchmove:e.drag,mouseup:e.dragEnd,touchend:e.dragEnd,load:e.setWidthHeight,dblclick:e.zoomIn,contextmenu:function(t){return t.preventDefault(),e.zoomOut(t)}}}),a("transition",{attrs:{name:"fade"}},[e.highlightings[e.highlight]?a("div",{staticClass:"highlight",style:{top:e.highlightings[e.highlight].y+"%",left:e.highlightings[e.highlight].x+"%",width:e.highlightings[e.highlight].w+"%",height:e.highlightings[e.highlight].h+"%"}}):e._e()]),a("div",{staticClass:"copy-overlay"})],1)])])},Le=[],je={date:{x:0,y:0,w:31.44246353,h:23.30848624},sender:{x:31.42220421,y:0,w:35.2917342,h:23.30848624},receiver:{x:66.69367909,y:0,w:33.30632091,h:23.30848624},autograph:{x:0,y:23.27981651,w:31.44246353,h:28.95642202},copy:{x:31.42220421,y:23.27981651,w:35.2917342,h:28.95642202},language:{x:0,y:52.20756881,w:31.44246353,h:9.690366972},printed:{x:0,y:61.86926606,w:31.44246353,h:38.13073394},literature:{x:31.42220421,y:52.20756881,w:68.57779579,h:25.37270642},first_sentence:{x:31.42220421,y:77.5516055,w:68.57779579,h:22.4483945}},Ie=je,qe={zoom:{min:.5,max:20},maxBorderOverlap:2,zoomFactor:1.5,autoFocusPadding:5,scrollFactor:500},Ue={name:"Card",props:["card","focus","highlight"],data:function(){return{loaded:!1,autofocus:!0,width:null,height:null,isDragging:!1,isDraggingConfirmed:!1,dragPos:{x:0,y:0},pos:{x:0,y:0},zoom:1,highlightings:Ie}},computed:{transformation:function(){return{transform:"scale(".concat(this.zoom,") translate(").concat(this.pos.x,"px, ").concat(this.pos.y,"px)")}}},watch:{focus:function(e){this.autofocus&&e&&Ie[e]&&this.moveToBounds(Ie[e])}},methods:{setWidthHeight:function(){this.width=this.$refs.img.width,this.height=this.$refs.img.height},getPos:function(e){return{x:e.touches?e.touches[0].screenX:e.screenX,y:e.touches?e.touches[0].screenY:e.screenY}},dragStart:function(e){this.isDragging=!0,this.dragPos=this.getPos(e)},dragEnd:function(){this.isDragging=!1,this.isDraggingConfirmed=!1},drag:function(e){if(this.isDragging){this.isDraggingConfirmed=!0;var t=this.getPos(e),a={x:t.x-this.dragPos.x,y:t.y-this.dragPos.y};this.dragPos.x=t.x,this.dragPos.y=t.y,this.pos.x+=a.x/this.zoom,this.pos.y+=a.y/this.zoom,this.fixBounds()}},zoomIn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe.zoomFactor;if(this.zoom*t>qe.zoom.max&&(t=qe.zoom.max/this.zoom),e){var a=-this.pos.x+this.width/2-e.offsetX;this.pos.x=this.pos.x+a/2/t;var n=-this.pos.y+this.height/2-e.offsetY;this.pos.y=this.pos.y+n/2/t}this.zoom*=t,this.fixBounds()},zoomOut:function(){this.zoom/=qe.zoomFactor,this.fixBounds()},reset:function(){this.zoom=1,this.pos.x=0,this.pos.y=0},fixBounds:function(){this.zoom=Math.max(this.zoom,qe.zoom.min),this.zoom=Math.min(this.zoom,qe.zoom.max),this.pos.x=Math.max(this.pos.x,-this.width/qe.maxBorderOverlap),this.pos.x=Math.min(this.pos.x,this.width/qe.maxBorderOverlap),this.pos.y=Math.max(this.pos.y,-this.height/qe.maxBorderOverlap),this.pos.y=Math.min(this.pos.y,this.height/qe.maxBorderOverlap)},scroll:function(e){this.zoom+=-e.deltaY/qe.scrollFactor,this.fixBounds()},moveToBounds:function(e){var t=e.x,a=e.y,n=e.w,r=e.h;t-=qe.autoFocusPadding,a-=qe.autoFocusPadding,n+=2*qe.autoFocusPadding,r+=2*qe.autoFocusPadding,this.zoom=Math.min(100/n,100/r),this.pos.x=-this.width*t/100+this.width/2-this.width/2/this.zoom,this.pos.y=-this.height*a/100+this.height/2-this.height/2/this.zoom,this.fixBounds()}},created:function(){window.addEventListener("resize",this.setWidthHeight)},destroyed:function(){window.removeEventListener("resize",this.setWidthHeight)}},Re=Ue,Ze=(a("f471"),Object(h["a"])(Re,Te,Le,!1,null,"a2b3ba42",null)),He=Ze.exports,We={name:"Card",data:function(){return{card:null,focus:null,highlight:null,card_original_top:0,states:he}},components:{TopNavigation:f,CardEditor:Fe,CardViewer:He},mounted:function(){this.load()},methods:{load:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.location.href.match(/\/assignment\/[0-9]+/)&&(t=parseInt(window.location.href.split("/").pop())),e.next=3,_.getCard(t);case 3:this.card=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleScroll:function(){this.$refs.card_original&&(this.card_original_top=Math.max(0,-this.$refs.card_original.getBoundingClientRect().top))},saved:function(){this.load()}},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},Ge=We,Je=(a("abc8"),Object(h["a"])(Ge,s,o,!1,null,"45e38597",null)),Qe=Je.exports,Ye={name:"app",components:{Card:Qe}},Xe=Ye,et=(a("5c0b"),Object(h["a"])(Xe,r,i,!1,null,null,null)),tt=et.exports,at=a("ecee"),nt=a("c074"),rt=a("ad3d"),it=a("a925"),st={card:{loading:"Karteikarte wird geladen...",original_title:"Originale Karteikarte",original_intro:"Zum Vergrössern verwenden Sie die Steuerelemente oder das Mausrad.",digital_title:"Digitale Karteikarte",reviews:"Rezension | Rezensionen",state:{open:"offen",unclear:"unklar",done:"abgeschlossen",invalid:"ungültig"},digital_intro:"Prüfen Sie die angezeigten Werte mit den Angaben auf der originalen Karteikarte."},editor:{date:{title:"Datum",year:"Jahr",year_tip:"Vierstellige Jahreszahl ohne Klammern",year_b:"Jahr B",year_b_tip:"Sofern Anfangs- und Enddaten angegeben sind: Zweite Jahreszahl (vierstellig) ohne Klammern",year_linked:"Jahr Verw.",year_linked_tip:"Jahreszahl, auf die verwiesen wird (vierstellig)",month:"Monat",month_tip:"Monatsname",month_b:"Monat B",month_b_tip:"Sofern Anfangs- und Enddaten angegeben sind: Zweiter Monatsname",month_linked:"Monat Verw.",month_linked_tip:"Monatsname, auf den verwiesen wird",day:"Tag",day_tip:"Datumsangabe",day_b:"Tag B",day_b_tip:"Sofern Anfangs- und Enddaten angegeben sind: Zweite Datumsangabe",day_linked:"Tag Verw.",day_linked_tip:"Datum, auf das verwiesen wird",remarks:"Bemerkung (Datum)",remarks_tip:'Steht das Datum auf der Karteikarte in Klammern oder ist mit einer lat. Abkürzung wie "s.d." oder "s.a." versehen, tragen Sie hier "Datum unsicher" ein'},sender:{title:"Absender",lastname:"Nachname",lastname_tip:"Nachname ohne Klammern; falls mehrere Absender angegeben sind: Nur Nachname des ersten Absenders",firstname:"Vorname",firstname_tip:"Vorname(n) ohne Klammern; falls mehrere Absender angegeben sind: Nur Vorname(n) des ersten Absenders",location:"Ort",location_tip:"Ortsname ohne Klammern",verified:"Verifiziert?",not_verified:"Nicht verifiziert",not_verified_tip:"Feld ankreuzen, sofern eine Angabe zum Absender in Klammern steht",remarks:"Bemerkung (Absender)",remarks_tip:'Stehen mehrere Absender auf der Karteikarte, tragen Sie hier "Mehrere Absender" ein.<br>Haben Sie Schreibvarianten festgestellt oder sind Sie unsicher, ob ein Schreibfehler vorliegt, tragen Sie die entsprechende Bemerkung ein und setzen den Status auf "Unklar".'},receiver:{title:"Empfänger",lastname:"Nachname",lastname_tip:"Nachname ohne Klammern; falls mehrere Empfänger angegeben sind: Nur Nachname des ersten Empfängers",firstname:"Vorname",firstname_tip:"Vorname(n) ohne Klammern; falls mehrere Empfänger angegeben sind: Nur Vorname(n) des ersten Empfängers",location:"Ort",location_tip:"Ortsname ohne Klammern",verified:"Verifiziert?",not_verified:"Nicht verifiziert",not_verified_tip:"Feld ankreuzen, sofern eine Angabe zum Empfänger in Klammern steht",remarks:"Bemerkung (Empfänger)",remarks_tip:'Stehen mehrere Empfänger auf der Karteikarte, tragen Sie hier "Mehrere Empfänger" ein.<br>Haben Sie Schreibvarianten festgestellt oder sind Sie unsicher, ob ein Schreibfehler vorliegt, tragen Sie die entsprechende Bemerkung ein und setzen den Status auf "Unklar".'},autograph:{title:"Autograph",location:"Standort",location_tip:"Standort ohne Komma<br>Die meisten Briefe stehen entweder im Staatsarchiv Zürich oder der Zentralbibliothek Zürich (ZZB). Diese Standorte bitte jeweils wie folgt eintragen: Zürich StA oder Zürich ZB",signature:"Signatur",signature_tip:"Buchstabenfolgen sind mit Leerschlägen zu trennen, Zahlen mit Kommas (für Beispiele s. FAQ)",remarks:"Bemerkung (Autograph)",remarks_tip:'Sind Sie unsicher, ob Sie die Angaben richtig entziffert haben, tragen Sie hier bitte die entsprechende Bemerkung ein und setzen den Status der Karteikarte auf "Unklar"'},copy:{title:"Kopie",location:"Standort",location_tip:"Standort ohne Komma",signature:"Signatur",signature_tip:"Buchstabenfolgen sind mit Leerschlägen zu trennen, Zahlen mit Kommas (für Beispiele s. FAQ)",remarks:"Bemerkung (Kopie)",remarks_tip:"Zusätzliche Informationen zum ersten Standort tragen Sie bitte hier ein"},copy_b:{title:"Kopie B",location:"Standort Kopie B",location_tip:"Zweiter Standort von Kopien (ohne Komma)",signature:"Signatur Kopie B",signature_tip:"Signatur des zweiten Standorts von Kopien",remarks:"Bemerkung (Kopie) B",remarks_tip:"Zusätzliche Informationen zum zweiten Standort oder weitere Standorte tragen Sie bitte hier ein"},contents:{title:"Inhalt",language:"Sprache",language_tip:"Sprache gemäss Eintrag auf der Karteikarte bzw. gemäss Sprache des ersten Satzes. Bitte geben Sie die Sprache in folgenden Schreibweisen an: Latein, Deutsch, Griechisch etc.",printed:"Gedruckt",printed_tip:'Literaturangabe gemäss Karteikarte. Können Sie den Eintrag nicht entziffern, tragen Sie dies bitte in den Anmerkungen zur Karteikarte ein und setzen den Status auf "Unklar"',literature:"Literatur",literature_tip:'Literaturangabe gemäss Karteikarte. Können Sie den Eintrag nicht entziffern, tragen Sie dies bitte in den Anmerkungen zur Karteikarte ein und setzen den Status auf "Unklar"',first_sentence:"Erster Satz",first_sentence_tip:'Erster Satz gemäss Karteikarte. Können Sie den Eintrag nicht entziffern, tragen Sie dies bitte in den Anmerkungen zur Karteikarte ein und setzen den Status auf "Unklar"',remarks:"Anmerkungen / Notiz zu dieser Karteikarte",remarks_tip:'Falls Sie bei einer Korrektur unsicher sind oder einen Eintrag nicht entziffern konnten, tragen Sie dies bitte hier ein und setzen den Status auf "Unklar"'},state:{label:"Status",open:"Offen",unclear:"Unklar",invalid:"Ungültig",done:"Abgeschlossen"},state_tip:'Status bezieht sich darauf, ob Datenbankeintrag und Karteikarte vollständig übereinstimmen. Wählen Sie den Status\n            <ul>\n                <li><strong>"Offen"</strong>, wenn der Datenbankeintrag noch nicht kontrolliert / korrigiert ist</li>\n                <li><strong>"Unklar"</strong>, wenn der Datenbankeintrag korrigiert ist, jedoch Unsicherheiten bestehen (diese bitte im Bemerkungsfeld spezifizieren)</li>\n                <li><strong>"Ungültig"</strong>, wenn das Bild keine Karteikarte zeigt oder die Karteikarte leer ist</li>\n                <li><strong>"Abgeschlossen"</strong>, wenn der Datenbankeintrag vollständig kontrolliert und korrigiert ist, d.h. die Einträge in der Datenbank den Einträgen auf der Karteikarte entsprechen</li>\n            </ul>\n            ',save:"Speichern",save_next:"Speichern und weiter",save_success:"Karteikarte ({id}) erfolgreich gespeichert.",save_error:"Beim Speichern ist ein Fehler aufgetreten. Bitte versuchen Sie es später erneut."},viewer:{zoom:"Zoom",autofocus:"Automatisch fokussieren",autofocus_title:"Wenn diese Funktion aktiviert ist, wird beim Fokussieren eines Textfeldes in der digitalen Karteikarte automatisch der entsprechende Aussschnitt in der originalen Karteikarte fokussiert.",zoom_in:"Vergrössern",zoom_out:"Verkleinern",zoom_full:"Ganze Karteikarte anzeigen"},navigation:{previous_card:"Vorherige Karte",next_card:"Nächste Karte",overview:"Übersicht",current:"Aktuelle Karte"}},ot={hello:"hello en"},ct={de:st,en:ot},lt=a("a65d"),ut=a.n(lt),dt=a("3f9d"),pt=a("e37d");a("5f09");n["a"].config.productionTip=!1,at["c"].add(nt["b"]),at["c"].add(nt["c"]),at["c"].add(nt["e"]),at["c"].add(nt["d"]),at["c"].add(nt["a"]),at["c"].add(nt["f"]),n["a"].component("font-awesome-icon",rt["a"]),n["a"].use(it["a"]);var ht=new it["a"]({locale:"de",messages:ct});n["a"].use(ut.a,{containerClass:"bu-toast-container",className:"bu-toast",duration:5e3}),n["a"].use(dt["a"]),n["a"].use(pt["a"]),new n["a"]({render:function(e){return e(tt)},i18n:ht}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"5d12":function(e,t,a){},"5f09":function(e,t,a){},"8c5f":function(e,t,a){"use strict";var n=a("0de7"),r=a.n(n);r.a},"9c0c":function(e,t,a){},a775:function(e,t,a){"use strict";var n=a("5d12"),r=a.n(n);r.a},abc8:function(e,t,a){"use strict";var n=a("df1e"),r=a.n(n);r.a},b34b:function(e,t,a){},cece:function(e,t,a){},de2d:function(e,t,a){"use strict";var n=a("cece"),r=a.n(n);r.a},df1e:function(e,t,a){},eac8:function(e,t,a){"use strict";var n=a("0026"),r=a.n(n);r.a},f471:function(e,t,a){"use strict";var n=a("1364"),r=a.n(n);r.a},f8bb:function(e,t,a){},f9de:function(e,t,a){"use strict";var n=a("50f6"),r=a.n(n);r.a},fd8e:function(e,t,a){}});
//# sourceMappingURL=app.31ae177e.js.map